<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Smoothscroll demo</title>
        <link href="assets/doggy.css" rel="stylesheet" type="text/css" />
        <style>
            h1 {
                text-align:center;
            }
            ul {
                position:fixed;
                bottom:50px;
                right:50px;
            }
            li {
                cursor:pointer;
                border:solid 1px #ccc;
                height:30px;
                line-height:30px;
                text-align:center;
                width:80px;
                border-bottom-width:0;
            }
            li:last-child {
                border-bottom-width:1px;
            }
            li:hover {
                background:#eee;
            }
            article {
                width:300px;
                margin:0 auto 500px;
            }
        </style>
    </head>
    <body>
        <h1>This a simple demo for smoothscroll. </h1>
        <ul data-uix="smoothscroll" data-params='{"selToggle":"li"}'>
            <li data-scroll="#p1">h1</li>
            <li data-scroll="#p2">sub1</li>
            <li data-scroll="#p3">sub2</li>
            <li data-scroll="#p4">sub3</li>
            <li data-scroll="#p5">sub4</li>
        </ul>
        <article>
            <h2 id="p1">Article title</h2>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <h2 id="p2">Sub title 1</h2>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <h2 id="p3">Sub title 2</h2>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <h2 id="p4">Sub title 3</h2>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <h2 id="p5">Sub title 4</h2>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
            <p>Some words.Some words.Some words.Some words.Some words.Some words.Some words.</p>
        </article>
        <script src="assets/jquery.min.js"></script>
        <script>
            var doggy = {};

            doggy.ua = {
                webkit: navigator.userAgent.toLowerCase().indexOf('webkit') !== -1,
                msie: navigator.userAgent.toLowerCase().indexOf('msie') !== -1,
                ie6: navigator.userAgent.toLowerCase().indexOf('msie 6.0') !== -1
            };

            doggy.initSmoothscroll = function (selContainer, config) {
                var ndContainer = $(selContainer);
                if (!ndContainer || ndContainer.data('init')) return;

                var _config = {
                    selToggle: 'a',
                    easing: 'swing',
                    duration: 300
                };
                $.extend(_config, config);

                ndContainer.delegate(_config.selToggle, 'click', function () {
                    var target = $(this).data('scroll'),
                        box = doggy.ua.webkit ? document.body : document.documentElement;
                    if (!target) target = 0;
                    target = $.isNumeric(target) ? target : $(target).offset().top;
                    $(box).animate({
                        scrollTop: target
                    },{
                        duration: _config.duration,
                        easing: _config.easing
                    });
                });

                ndContainer.data('init', true);
            };

            $(document).ready(function () {
                doggy.dataApi = {
                    tab: [],
                    dropdown: [],
                    select: [],
                    smoothscroll: [],
                    dialog: [],
                    placeholder: [],
                    tooltip: [],
                    checkbox: [],
                    autohide: [],
                    radio: [],
                    switches: []
                };
                $('[data-uix]').each(function () {
                    var instance = $(this),
                        params = instance.data('params');
                    doggy.dataApi[instance.data('uix')].push({
                        element: instance,
                        params: params
                    });
                });
            });

            $(document).ready(function () {
                var list = doggy.dataApi.smoothscroll,
                    len = list.length;
                while (len--) {
                    doggy.initSmoothscroll(list[len].element, list[len].params);
                }
            });
        </script>
    </body>
</html>
